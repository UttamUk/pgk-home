{"version":3,"sources":["Pages/Dashboard/Analytics/Analytics.js","Store/Actions/SagaActions/AnalyticsSagaActions.js"],"names":["Analytics","dispatch","useDispatch","useState","accessToken","setAccessToken","reportId","setReportId","onResponse","response","reportID","console","log","useEffect","payload","callback","type","ACTION_GET_ANALYTICS_BI_ACCESS_TOKEN_REQUEST","className","style","marginTop","embedConfig","id","embedUrl","settings","cssClassName"],"mappings":"6JA2CeA,UArCG,WACd,IAAMC,EAAWC,cADG,EAEkBC,qBAFlB,mBAEbC,EAFa,KAEAC,EAFA,OAGYF,qBAHZ,mBAGbG,EAHa,KAGHC,EAHG,KAKdC,EAAa,SAACC,GAEhBJ,EAAc,OAACI,QAAD,IAACA,OAAD,EAACA,EAAUL,aACzBG,EAAW,OAACE,QAAD,IAACA,OAAD,EAACA,EAAUC,UACtBC,QAAQC,IAAI,cAAeH,IASjC,OANEI,qBAAU,WChBwC,IAACC,EDiB/Cb,GCjB+Ca,EDiBC,CAC5CC,SAAUP,GCjBX,CACHQ,KAAMC,IACNH,QAASA,ODiBV,CAACb,IAGJ,qCACE,qBAAKiB,UAAU,OAAOC,MAAO,CAACC,UAAU,IAAxC,SACE,oBAAIF,UAAU,aAAd,yBAEDd,GAAeE,GAAY,cAAC,eAAD,CACxBe,YAAe,CACbL,KAAM,SACNM,GAAIhB,EACJiB,SAAS,gDAAD,OAAkDjB,GAC1DF,YAAaA,EACboB,SAAU,IAEZC,aAAgB","file":"static/js/36.838a0238.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {useDispatch} from 'react-redux';\nimport { PowerBIEmbed } from 'powerbi-client-react';\nimport { models } from 'powerbi-client';\nimport { actionGetAnalyticsBiAccessTokenRequest } from '../../../Store/Actions/SagaActions/AnalyticsSagaActions';\n\nconst Analytics = () => {\n    const dispatch = useDispatch();\n    const [accessToken, setAccessToken] = useState();\n    const [reportId, setReportId] = useState();\n\n    const onResponse = (response) => {\n        // accessToken and refreshToken\n        setAccessToken(response?.accessToken)\n        setReportId(response?.reportID)\n        console.log('onResponse ', response);\n    }\n\n    useEffect(()=>{\n        dispatch(actionGetAnalyticsBiAccessTokenRequest({\n            callback: onResponse\n        }));\n    }, [dispatch])\n\n  return ( \n    <>\n      <div className=\"main\" style={{marginTop:10}}>\n        <h3 className=\"main-title\">Analytics</h3>\n      </div>\n      {accessToken && reportId && <PowerBIEmbed\n          embedConfig = {{\n            type: 'report',   // Supported types: report, dashboard, tile, visual and qna\n            id: reportId, \n            embedUrl: `https://app.powerbi.com/reportEmbed?reportId=${reportId}`,\n            accessToken: accessToken,    // Keep as empty string, null or undefined\n            settings: {},\n          }}\n          cssClassName = {\"analytics-reports-style\"}\n        />}\n    </>\n  )\n}\n\nexport default Analytics;\n","import {ACTION_GET_ANALYTICS_BI_ACCESS_TOKEN_REQUEST} from './SagaActionTypes';\n\nexport const actionGetAnalyticsBiAccessTokenRequest = (payload) => {\n    return {\n        type: ACTION_GET_ANALYTICS_BI_ACCESS_TOKEN_REQUEST,\n        payload: payload\n    }\n}"],"sourceRoot":""}